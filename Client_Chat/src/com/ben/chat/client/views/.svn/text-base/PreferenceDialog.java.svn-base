/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * PreferenceDialog.java
 *
 * Created on Oct 1, 2009, 2:49:44 PM
 */

package com.ben.chat.client.views;

import com.ben.chat.client.constant.preferences.PreferencesWrapper;
import com.ben.chat.userdata.User;
import com.ben.crypt.md5.MD5Password;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectOutputStream;
import java.io.OutputStream;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ButtonGroup;
import javax.swing.JOptionPane;

/**
 *
 * @author bendaccache
 */
public class PreferenceDialog extends javax.swing.JDialog {
    private ClientChatView cv = ClientChatView.getInstance();

    /** Creates new form PreferenceDialog */
    public PreferenceDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        loadLanguage();
        initiateProfilePane(); 
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel5 = new javax.swing.JPanel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        PrefLabel = new javax.swing.JLabel();
        languageLabel = new javax.swing.JLabel();
        clearSettingsButton = new javax.swing.JButton();
        comboLanguage = new javax.swing.JComboBox();
        cancelButton = new javax.swing.JButton();
        buttonPrefOk = new javax.swing.JButton();
        applyButton = new javax.swing.JButton();
        enableSoundCombo = new javax.swing.JCheckBox();
        jPanel2 = new javax.swing.JPanel();
        updateButton = new javax.swing.JButton();
        cancelButton2 = new javax.swing.JButton();
        applyButton2 = new javax.swing.JButton();
        jTabbedPane2 = new javax.swing.JTabbedPane();
        jPanel3 = new javax.swing.JPanel();
        nameLabel = new javax.swing.JLabel();
        surnameLabel = new javax.swing.JLabel();
        passLabel = new javax.swing.JLabel();
        repPassLabel = new javax.swing.JLabel();
        emailLabel = new javax.swing.JLabel();
        genderLabel = new javax.swing.JLabel();
        birthdateLabel = new javax.swing.JLabel();
        nameField = new javax.swing.JTextField();
        surnameField = new javax.swing.JTextField();
        PassField = new javax.swing.JPasswordField();
        repPassField = new javax.swing.JPasswordField();
        emailField = new javax.swing.JTextField();
        MRAdio = new javax.swing.JRadioButton();
        FRadio = new javax.swing.JRadioButton();
        birthField = new javax.swing.JFormattedTextField();
        jPanel6 = new javax.swing.JPanel();
        cityTextField = new javax.swing.JTextField();
        countryCombobox = new javax.swing.JComboBox();
        countryLabel = new javax.swing.JLabel();
        cityLabel = new javax.swing.JLabel();
        phoneLabel = new javax.swing.JLabel();
        phoneField = new javax.swing.JTextField();
        webSiteLabel = new javax.swing.JLabel();
        webSiteField = new javax.swing.JTextField();
        jPanel4 = new javax.swing.JPanel();
        InterestLabel = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        interestTextArea = new javax.swing.JTextArea();
        aboutLabel = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        aboutTextArea = new javax.swing.JTextArea();

        jPanel5.setName("jPanel5"); // NOI18N

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 100, Short.MAX_VALUE)
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 100, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setName("Form"); // NOI18N
        setResizable(false);

        jTabbedPane1.setName("jTabbedPane1"); // NOI18N

        jPanel1.setName("jPanel1"); // NOI18N

        org.jdesktop.application.ResourceMap resourceMap = org.jdesktop.application.Application.getInstance(com.ben.chat.client.views.ClientChatApp.class).getContext().getResourceMap(PreferenceDialog.class);
        PrefLabel.setFont(resourceMap.getFont("PrefLabel.font")); // NOI18N
        PrefLabel.setText(resourceMap.getString("PrefLabel.text")); // NOI18N
        PrefLabel.setName("PrefLabel"); // NOI18N

        languageLabel.setText(resourceMap.getString("languageLabel.text")); // NOI18N
        languageLabel.setName("languageLabel"); // NOI18N

        clearSettingsButton.setText(resourceMap.getString("clearSettingsButton.text")); // NOI18N
        clearSettingsButton.setName("clearSettingsButton"); // NOI18N
        clearSettingsButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearSettingsButtonActionPerformed(evt);
            }
        });

        comboLanguage.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "English", "Francais" }));
        comboLanguage.setName("comboLanguage"); // NOI18N

        cancelButton.setText(resourceMap.getString("cancelButton.text")); // NOI18N
        cancelButton.setName("cancelButton"); // NOI18N
        cancelButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelButtonActionPerformed(evt);
            }
        });

        buttonPrefOk.setText(resourceMap.getString("buttonPrefOk.text")); // NOI18N
        buttonPrefOk.setName("buttonPrefOk"); // NOI18N
        buttonPrefOk.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                buttonPrefOkActionPerformed(evt);
            }
        });

        applyButton.setText(resourceMap.getString("applyButton.text")); // NOI18N
        applyButton.setName("applyButton"); // NOI18N
        applyButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                applyButtonActionPerformed(evt);
            }
        });

        enableSoundCombo.setSelected(true);
        enableSoundCombo.setText(resourceMap.getString("enableSoundCombo.text")); // NOI18N
        enableSoundCombo.setName("enableSoundCombo"); // NOI18N
        enableSoundCombo.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                enableSoundComboStateChanged(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(PrefLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 124, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(131, 131, 131))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(enableSoundCombo)
                            .addComponent(languageLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(34, 34, 34)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(clearSettingsButton, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(comboLanguage, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addContainerGap(107, Short.MAX_VALUE))))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(cancelButton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 168, Short.MAX_VALUE)
                .addComponent(applyButton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(buttonPrefOk))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(PrefLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(12, 12, 12)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(languageLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(comboLanguage, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(clearSettingsButton)
                .addGap(11, 11, 11)
                .addComponent(enableSoundCombo)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 364, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cancelButton)
                    .addComponent(buttonPrefOk)
                    .addComponent(applyButton)))
        );

        jTabbedPane1.addTab(resourceMap.getString("jPanel1.TabConstraints.tabTitle"), jPanel1); // NOI18N

        jPanel2.setName("jPanel2"); // NOI18N

        updateButton.setText(resourceMap.getString("updateButton.text")); // NOI18N
        updateButton.setName("updateButton"); // NOI18N
        updateButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                updateButtonActionPerformed(evt);
            }
        });

        cancelButton2.setText(resourceMap.getString("cancelButton2.text")); // NOI18N
        cancelButton2.setName("cancelButton2"); // NOI18N
        cancelButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelButton2ActionPerformed(evt);
            }
        });

        applyButton2.setText(resourceMap.getString("applyButton2.text")); // NOI18N
        applyButton2.setName("applyButton2"); // NOI18N
        applyButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                applyButton2ActionPerformed(evt);
            }
        });

        jTabbedPane2.setName("jTabbedPane2"); // NOI18N

        jPanel3.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        jPanel3.setName("jPanel3"); // NOI18N

        nameLabel.setText(resourceMap.getString("nameLabel.text")); // NOI18N
        nameLabel.setName("nameLabel"); // NOI18N

        surnameLabel.setText(resourceMap.getString("surnameLabel.text")); // NOI18N
        surnameLabel.setName("surnameLabel"); // NOI18N

        passLabel.setText(resourceMap.getString("passLabel.text")); // NOI18N
        passLabel.setName("passLabel"); // NOI18N

        repPassLabel.setText(resourceMap.getString("repPassLabel.text")); // NOI18N
        repPassLabel.setName("repPassLabel"); // NOI18N

        emailLabel.setText(resourceMap.getString("emailLabel.text")); // NOI18N
        emailLabel.setName("emailLabel"); // NOI18N

        genderLabel.setText(resourceMap.getString("genderLabel.text")); // NOI18N
        genderLabel.setName("genderLabel"); // NOI18N

        birthdateLabel.setText(resourceMap.getString("birthdateLabel.text")); // NOI18N
        birthdateLabel.setName("birthdateLabel"); // NOI18N

        nameField.setText(resourceMap.getString("nameField.text")); // NOI18N
        nameField.setName("nameField"); // NOI18N

        surnameField.setText(resourceMap.getString("surnameField.text")); // NOI18N
        surnameField.setName("surnameField"); // NOI18N

        PassField.setText(resourceMap.getString("PassField.text")); // NOI18N
        PassField.setName("PassField"); // NOI18N

        repPassField.setText(resourceMap.getString("repPassField.text")); // NOI18N
        repPassField.setName("repPassField"); // NOI18N

        emailField.setText(resourceMap.getString("emailField.text")); // NOI18N
        emailField.setName("emailField"); // NOI18N

        MRAdio.setText(resourceMap.getString("MRAdio.text")); // NOI18N
        MRAdio.setName("MRAdio"); // NOI18N

        FRadio.setText(resourceMap.getString("FRadio.text")); // NOI18N
        FRadio.setName("FRadio"); // NOI18N

        birthField.setColumns(4);
        try {
            birthField.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        birthField.setName("birthField"); // NOI18N

        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(resourceMap.getString("jPanel6.border.title"))); // NOI18N
        jPanel6.setName("jPanel6"); // NOI18N

        cityTextField.setText(resourceMap.getString("cityTextField.text")); // NOI18N
        cityTextField.setName("cityTextField"); // NOI18N

        countryCombobox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua & Deps", "Argentina", "Armenia", "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria", "Burkina", "Burundi", "Cambodia", "Cameroon", "Canada", "Cape Verde", "Central African Rep", "Chad", "Chile", "China", "Colombia", "Comoros", "Congo", "Congo {Democratic Rep}", "Costa Rica", "Croatia", "Cuba", "Cyprus", "Czech Republic", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "East Timor", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Ethiopia", "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala", "Guinea", "Guinea-Bissau", "Guyana", "Haiti", "Honduras", "Hungary", "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland {Republic}", "Israel", "Italy", "Ivory Coast", "Jamaica", "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Korea North", "Korea South", "Kosovo", "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Macedonia", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro", "Morocco", "Mozambique", "Myanmar, {Burma}", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger", "Nigeria", "Norway", "Oman", "Pakistan", "Palau", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal", "Qatar", "Romania", "Russian Federation", "Rwanda", "St Kitts & Nevis", "St Lucia", "Saint Vincent & the Grenadines", "Samoa", "San Marino", "Sao Tome & Principe", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "Spain", "Sri Lanka", "Sudan", "Suriname", "Swaziland", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan", "Tanzania", "Thailand", "Togo", "Tonga", "Trinidad & Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "Uruguay", "Uzbekistan", "Vanuatu", "Vatican City", "Venezuela", "Vietnam", "Yemen", "Zambia", "Zimbabwe" }));
        countryCombobox.setName("countryCombobox"); // NOI18N

        countryLabel.setText(resourceMap.getString("countryLabel.text")); // NOI18N
        countryLabel.setName("countryLabel"); // NOI18N

        cityLabel.setText(resourceMap.getString("cityLabel.text")); // NOI18N
        cityLabel.setName("cityLabel"); // NOI18N

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addGap(50, 50, 50)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(cityLabel)
                    .addComponent(countryLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 20, Short.MAX_VALUE)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(countryCombobox, javax.swing.GroupLayout.Alignment.TRAILING, 0, 0, Short.MAX_VALUE)
                    .addComponent(cityTextField, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 236, Short.MAX_VALUE)))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cityTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cityLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 9, Short.MAX_VALUE)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(countryCombobox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(countryLabel)))
        );

        phoneLabel.setText(resourceMap.getString("phoneLabel.text")); // NOI18N
        phoneLabel.setName("phoneLabel"); // NOI18N

        phoneField.setText(resourceMap.getString("phoneField.text")); // NOI18N
        phoneField.setName("phoneField"); // NOI18N

        webSiteLabel.setText(resourceMap.getString("webSiteLabel.text")); // NOI18N
        webSiteLabel.setName("webSiteLabel"); // NOI18N

        webSiteField.setText(resourceMap.getString("webSiteField.text")); // NOI18N
        webSiteField.setName("webSiteField"); // NOI18N

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGroup(jPanel3Layout.createSequentialGroup()
                                                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addComponent(surnameLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 102, Short.MAX_VALUE)
                                                        .addComponent(nameLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 102, Short.MAX_VALUE))
                                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED))
                                                .addGroup(jPanel3Layout.createSequentialGroup()
                                                    .addComponent(passLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                    .addGap(5, 5, 5)))
                                            .addGroup(jPanel3Layout.createSequentialGroup()
                                                .addComponent(repPassLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                                        .addGroup(jPanel3Layout.createSequentialGroup()
                                            .addComponent(emailLabel)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED))
                                        .addGroup(jPanel3Layout.createSequentialGroup()
                                            .addComponent(birthdateLabel)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                                    .addGroup(jPanel3Layout.createSequentialGroup()
                                        .addComponent(genderLabel)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                                .addGroup(jPanel3Layout.createSequentialGroup()
                                    .addComponent(phoneLabel)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(webSiteLabel)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(birthField, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel3Layout.createSequentialGroup()
                                .addComponent(MRAdio)
                                .addGap(18, 18, 18)
                                .addComponent(FRadio))
                            .addComponent(repPassField, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)
                            .addComponent(PassField, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)
                            .addComponent(surnameField, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)
                            .addComponent(nameField, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)
                            .addComponent(emailField, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)
                            .addComponent(webSiteField, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(phoneField, javax.swing.GroupLayout.DEFAULT_SIZE, 260, Short.MAX_VALUE)))))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(nameField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(nameLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(surnameField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(surnameLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(PassField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(passLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(repPassField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(repPassLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(emailField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(emailLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(MRAdio)
                        .addComponent(FRadio))
                    .addComponent(genderLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(birthField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(birthdateLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(webSiteField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(webSiteLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(phoneField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(phoneLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jTabbedPane2.addTab(resourceMap.getString("jPanel3.TabConstraints.tabTitle"), jPanel3); // NOI18N

        jPanel4.setName("jPanel4"); // NOI18N

        InterestLabel.setText(resourceMap.getString("InterestLabel.text")); // NOI18N
        InterestLabel.setName("InterestLabel"); // NOI18N

        jScrollPane1.setName("jScrollPane1"); // NOI18N

        interestTextArea.setColumns(20);
        interestTextArea.setLineWrap(true);
        interestTextArea.setRows(5);
        interestTextArea.setName("interestTextArea"); // NOI18N
        jScrollPane1.setViewportView(interestTextArea);

        aboutLabel.setText(resourceMap.getString("aboutLabel.text")); // NOI18N
        aboutLabel.setName("aboutLabel"); // NOI18N

        jScrollPane2.setName("jScrollPane2"); // NOI18N

        aboutTextArea.setColumns(20);
        aboutTextArea.setRows(5);
        aboutTextArea.setName("aboutTextArea"); // NOI18N
        jScrollPane2.setViewportView(aboutTextArea);

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 376, Short.MAX_VALUE)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(aboutLabel)
                        .addContainerGap(338, Short.MAX_VALUE))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 370, Short.MAX_VALUE)
                        .addContainerGap())
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(InterestLabel)
                        .addContainerGap(321, Short.MAX_VALUE))))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(InterestLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(aboutLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 236, Short.MAX_VALUE)
                .addContainerGap())
        );

        jTabbedPane2.addTab(resourceMap.getString("jPanel4.TabConstraints.tabTitle"), jPanel4); // NOI18N

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(cancelButton2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 149, Short.MAX_VALUE)
                        .addComponent(applyButton2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(updateButton))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(jTabbedPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 403, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jTabbedPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 484, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(updateButton)
                    .addComponent(applyButton2)
                    .addComponent(cancelButton2)))
        );

        jTabbedPane1.addTab(resourceMap.getString("jPanel2.TabConstraints.tabTitle"), jPanel2); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 436, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 571, Short.MAX_VALUE)
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void buttonPrefOkActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonPrefOkActionPerformed
        String language = comboLanguage.getSelectedItem().toString();
        setLanguage(language);
        this.dispose();
}//GEN-LAST:event_buttonPrefOkActionPerformed

    private void cancelButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelButtonActionPerformed
        dispose();
}//GEN-LAST:event_cancelButtonActionPerformed

    private void clearSettingsButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearSettingsButtonActionPerformed
        File f = new File("Conf");
        clearSettings(f);
    }//GEN-LAST:event_clearSettingsButtonActionPerformed

    private void cancelButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelButton2ActionPerformed
        dispose();
    }//GEN-LAST:event_cancelButton2ActionPerformed

    private void applyButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_applyButtonActionPerformed
        String language = comboLanguage.getSelectedItem().toString();
        setLanguage(language);
    }//GEN-LAST:event_applyButtonActionPerformed

    private void updateButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_updateButtonActionPerformed
        if(!nameField.getText().equals("") && !surnameField.getText().equals("") && !emailField.getText().equals("") && !birthField.getText().equals("") && PassField.getPassword().length!=0){
            String pass1 = "";
                    for (int i = 0; i < PassField.getPassword().length; i++) {
                        pass1 += PassField.getPassword()[i];
                    }
            String pass2="";
                    for (int i = 0; i < repPassField.getPassword().length; i++) {
                        pass2 += repPassField.getPassword()[i];
                    }
            if(!pass1.equals(pass2)){
                JOptionPane.showMessageDialog(null, java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("pass_mismatch"), java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("pass_mismatch"), 0);
            }else{
                char sex;
                if(MRAdio.isSelected())
                    sex ='M' ;
                else sex='F';
                int fi = birthField.getText().indexOf("/");
                int li = birthField.getText().lastIndexOf("/");
                String day = birthField.getText().substring(0, fi);
                String month =birthField.getText().substring(fi+1, li);
                String year =birthField.getText().substring(li+1);
                User newUser = new User(nameField.getText(), surnameField.getText(), cv.getUserInfo().getUsername() , pass1, cv.getUserInfo().getUsername(), emailField.getText(), sex, day, month, year,cityTextField.getText(),countryCombobox.getSelectedItem().toString(),interestTextArea.getText(), aboutTextArea.getText(),phoneField.getText(),webSiteField.getText());
                cv.setUserInfo(newUser);
                cv.uploadUserInfo();
                dispose();
            }
            }else JOptionPane.showMessageDialog(null, java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("fill_fields"), "fill_fields", 0);
    }//GEN-LAST:event_updateButtonActionPerformed

    private void applyButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_applyButton2ActionPerformed
        if(!nameField.getText().equals("") && !surnameField.getText().equals("") && !emailField.getText().equals("") && !birthField.getText().equals("") && PassField.getPassword().length!=0){
            String pass1 = "";
                    for (int i = 0; i < PassField.getPassword().length; i++) {
                        pass1 += PassField.getPassword()[i];
                    }
            String pass2="";
                    for (int i = 0; i < repPassField.getPassword().length; i++) {
                        pass2 += repPassField.getPassword()[i];
                    }
            if(!pass1.equals(pass2)){
                JOptionPane.showMessageDialog(null, java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("pass_mismatch"), java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("pass_mismatch"), 0);
            }else{
                char sex;
                if(MRAdio.isSelected())
                    sex ='M' ;
                else sex='F';
                int fi = birthField.getText().indexOf("/");
                int li = birthField.getText().lastIndexOf("/");
                String day = birthField.getText().substring(0, fi);
                String month =birthField.getText().substring(fi+1, li);
                String year =birthField.getText().substring(li+1);
                User newUser = new User(nameField.getText(), surnameField.getText(), cv.getUserInfo().getUsername() , MD5Password.getEncodedPassword(pass1), cv.getUserInfo().getUsername(), emailField.getText(), sex, day, month, year,cityTextField.getText(),countryCombobox.getSelectedItem().toString(),interestTextArea.getText(), aboutTextArea.getText(),phoneField.getText(),webSiteField.getText());
                cv.setUserInfo(newUser);
                cv.uploadUserInfo();
                
            }
            }else JOptionPane.showMessageDialog(null, java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("fill_field"), java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("fill_fields"), 0);
    }//GEN-LAST:event_applyButton2ActionPerformed

    private void enableSoundComboStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_enableSoundComboStateChanged
        PreferencesWrapper.getPreferences().setSound(enableSoundCombo.isSelected());
    }//GEN-LAST:event_enableSoundComboStateChanged

    private void clearSettings(File f){
        File[] list = f.listFiles();
            for(int i=0; i<list.length; i++)
                list[i].delete();
    }
   

    private void initiateProfilePane() {
       com.ben.chat.userdata.User user = cv.getUserInfo();
        ButtonGroup myButtonGroup = new ButtonGroup();
		myButtonGroup.add(MRAdio);
		myButtonGroup.add(FRadio);
        if(user.getSex()=='M' || user.getSex()=='m'){
            MRAdio.setSelected(true);
        }else FRadio.setSelected(true);
        nameField.setText(user.getName());
        surnameField.setText(user.getSurname());
        emailField.setText(user.getEmail());
        PassField.setText(user.getPassword());
        repPassField.setText(user.getPassword());
        birthField.setValue(user.getBirthDate());
        countryCombobox.setSelectedItem(user.getCountry());
        cityTextField.setText(user.getCity());
        interestTextArea.setText(user.getInterest());
        aboutTextArea.setText(user.getAbout());
        phoneField.setText(user.getPhoneNumber());
        webSiteField.setText(user.getWebSiteURI());
        System.out.println(PreferencesWrapper.getPreferences().isSound());
        enableSoundCombo.setSelected(PreferencesWrapper.getPreferences().isSound());
         
    }
    private void loadLanguage(){
        if(ClientChatView.getInstance().getLanguage().endsWith("Francais")){
            comboLanguage.setSelectedItem("Francais");
        }else if(ClientChatView.getInstance().getLanguage().endsWith("English")){
            comboLanguage.setSelectedItem("English");
        }
        PrefLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("Preference"));
        languageLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("Language"));
        nameLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("name_label"));
        surnameLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("surname_label"));
        emailLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("email_label"));
        genderLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("gender_label"));
        passLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("pass_label"));
        repPassLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("rep_pass_label"));
        buttonPrefOk.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("ok"));
        applyButton.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("apply"));
        cancelButton.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("cancel"));
        cancelButton2.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("cancel"));
        updateButton.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("update"));
        applyButton2.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("apply"));
        birthdateLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("birth_date"));
        countryLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("country"));
        cityLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("city"));
        InterestLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("interest"));
        aboutLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("about"));
        this.setTitle(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("preference"));
        webSiteLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("website"));
        phoneLabel.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("phone"));
        enableSoundCombo.setText(java.util.ResourceBundle.getBundle(cv.getLanguage()).getString("sound"));





    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JRadioButton FRadio;
    private javax.swing.JLabel InterestLabel;
    private javax.swing.JRadioButton MRAdio;
    private javax.swing.JPasswordField PassField;
    private javax.swing.JLabel PrefLabel;
    private javax.swing.JLabel aboutLabel;
    private javax.swing.JTextArea aboutTextArea;
    private javax.swing.JButton applyButton;
    private javax.swing.JButton applyButton2;
    private javax.swing.JFormattedTextField birthField;
    private javax.swing.JLabel birthdateLabel;
    private javax.swing.JButton buttonPrefOk;
    private javax.swing.JButton cancelButton;
    private javax.swing.JButton cancelButton2;
    private javax.swing.JLabel cityLabel;
    private javax.swing.JTextField cityTextField;
    private javax.swing.JButton clearSettingsButton;
    private javax.swing.JComboBox comboLanguage;
    private javax.swing.JComboBox countryCombobox;
    private javax.swing.JLabel countryLabel;
    private javax.swing.JTextField emailField;
    private javax.swing.JLabel emailLabel;
    private javax.swing.JCheckBox enableSoundCombo;
    private javax.swing.JLabel genderLabel;
    private javax.swing.JTextArea interestTextArea;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTabbedPane jTabbedPane2;
    private javax.swing.JLabel languageLabel;
    private javax.swing.JTextField nameField;
    private javax.swing.JLabel nameLabel;
    private javax.swing.JLabel passLabel;
    private javax.swing.JTextField phoneField;
    private javax.swing.JLabel phoneLabel;
    private javax.swing.JPasswordField repPassField;
    private javax.swing.JLabel repPassLabel;
    private javax.swing.JTextField surnameField;
    private javax.swing.JLabel surnameLabel;
    private javax.swing.JButton updateButton;
    private javax.swing.JTextField webSiteField;
    private javax.swing.JLabel webSiteLabel;
    // End of variables declaration//GEN-END:variables

    private void setLanguage(String language) {
        OutputStream fos = null;
        {
            ObjectOutputStream oos = null;
            try {
                File f = new File("Conf/langage.dat");
                fos = new FileOutputStream(f);
                oos = new ObjectOutputStream(fos);
                oos.writeObject(language);
                ClientChatView.getInstance().setLanguage(language);
                ClientChatView.getInstance().updateLanguageOfInterface();
            } catch (IOException ex) {
                Logger.getLogger(PreferenceDialog.class.getName()).log(Level.SEVERE, null, ex);
            }finally {
                try {
                    fos.close();
                } catch (IOException ex) {
                    Logger.getLogger(PreferenceDialog.class.getName()).log(Level.SEVERE, null, ex);
                }
                try {
                    oos.close();
                } catch (IOException ex) {
                    Logger.getLogger(PreferenceDialog.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        }
    }


}
